<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QtRestClient: The QRestBuilder Tool</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="display: inline;">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QtRestClient
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
   <div id="projectbrief">A library for generic JSON-based REST-APIs, with a mechanism to map JSON to Qt objects</div>
  </td>
 </tr>
 </tbody>
</table>
<a style="float: right;" target="_blank"  href="https://github.com/Skycoder42/QtRestClient">
<img style="padding: 10px;" src="GitHub_Logo.png"/>
</a>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">The QRestBuilder Tool </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#generator_features">What it does</a></li>
<li class="level1"><a href="#generator_start">Getting Started</a></li>
<li class="level1"><a href="#generator_doc">File Syntax documentation</a><ul><li class="level2"><a href="#generator_doc_pro">Project file setup</a></li>
<li class="level2"><a href="#generator_doc_object">Generate objects</a><ul><li class="level3"><a href="#generator_doc_o_object">Type: object</a><ul><li class="level4"><a href="#generator_doc_o_props">Object Properties</a></li>
</ul>
</li>
<li class="level3"><a href="#generator_doc_o_enum">Type: enum-object</a><ul><li class="level4"><a href="#generator_doc_o_enum_value">Type: enum-value-list</a></li>
<li class="level4"><a href="#generator_doc_o_enum_obj">Type: enum</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#generator_doc_class">Generate classes</a><ul><li class="level3"><a href="#generator_doc_c_class">Type: class</a></li>
<li class="level3"><a href="#generator_doc_c_cobj">Type: classes-object</a></li>
<li class="level3"><a href="#generator_doc_c_mobj">Type: methods-object</a></li>
<li class="level3"><a href="#generator_doc_param">Type: param-list</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>The documentation for the qrestbuilder tool</p>
<h1><a class="anchor" id="generator_features"></a>
What it does</h1>
<p>The <code>qrestbuilder</code> reads in a json file, and generates a header and a source from it. Those will, depending on the input, contain either an <a href="#generator_doc_object">object</a> or a <a href="#generator_doc_class">class</a>. This allows an easy and fast creation of wrappers for any REST-API. The <a href="#generator_doc_pro">pro-feature</a> makes use of the builder, and automatically adds the files to moc and the normal c++ compiler. This way</p>
<h1><a class="anchor" id="generator_start"></a>
Getting Started</h1>
<p>The easiest way to get started is to check out the JsonPlaceholderApi example. It will teach you the general system behind the generator. You can then study this documentation to see, what you can do with it.</p>
<h1><a class="anchor" id="generator_doc"></a>
File Syntax documentation</h1>
<p>The following sections show a detailed documentation of what you can do with the tool, and explain the syntax of the json files. You can check the following locations for some sample files:</p><ul>
<li><a class="el" href="index.html">README.md</a></li>
<li><code>example/JsonPlaceholderApi</code></li>
<li><code>tests/auto/restclient/RestBuilderTest</code></li>
</ul>
<h2><a class="anchor" id="generator_doc_pro"></a>
Project file setup</h2>
<p>In order to use the tool as custom compiler, the features needs to be loaded. This is done by putting </p><div class="fragment"><div class="line">load(qrestbuilder)</div></div><!-- fragment --><p>Into your pro file.</p>
<p>Once that is done, you can simply create the JSON files and add the to the pro file using </p><div class="fragment"><div class="line">REST_API_OBJECTS += # for objects</div><div class="line">REST_API_CLASSES += # for classes</div></div><!-- fragment --><h2><a class="anchor" id="generator_doc_object"></a>
Generate objects</h2>
<p>Objects are added to the pro file by using the <code>REST_API_OBJECTS</code> variable. An object is simply a "data type" class. It will be generated with a bunch of properties (Q_PROPERTY), and methods to access them. They are generated in an optimized way, an can be used by the rest client as data classes. It allows a simple, fast and easy creation of those objects. You can generate them in two ways: As a Q_GADGET or a <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qobject.html">QObject</a>. The gadget has the advantage of beeing a value type and using shared data, but on the other side does not really allow inheritance and does not support change signals or dynamic properties, which the <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qobject.html">QObject</a> classes do.</p>
<p>Your JSON files will need to have the following structure:</p>
<h3><a class="anchor" id="generator_doc_o_object"></a>
Type: object</h3>
<p>The root element of any object to be generated. It allows the following elements:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Allowed values </th><th>Default/Required </th><th>Description  </th></tr>
<tr>
<td>$name </td><td>any valid c++ class name </td><td>file name </td><td>The class name of the generated class </td></tr>
<tr>
<td>$type </td><td>"gadget", "object" </td><td>"gadget" </td><td>Define the type of class to generate - Q_GADGET or <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qobject.html">QObject</a> </td></tr>
<tr>
<td>$includes </td><td>list of strings </td><td>[] </td><td>specify a list of includes for the header file </td></tr>
<tr>
<td>$parent </td><td>name of a valid parent class </td><td>"QObject" for objects, "" for gadgets </td><td>If you need a custom parent, use this property </td></tr>
<tr>
<td>$registerConverters </td><td>bool </td><td>true </td><td>If true, automatically registers the list converters for this type </td></tr>
<tr>
<td>$enums </td><td><a href="#generator_doc_o_enum">enum-object</a> </td><td>{} </td><td>Allows you to add enums to the class. See <a href="#generator_doc_o_enum">Type: enum-object</a> </td></tr>
<tr>
<td>&lt;properties&gt; </td><td><a href="#generator_doc_o_props">properties</a> </td><td><em>none</em> </td><td>See <a href="#generator_doc_o_props">Object Properties</a> </td></tr>
</table>
<h4><a class="anchor" id="generator_doc_o_props"></a>
Object Properties</h4>
<p>You can basically specify <b>any</b> property in the object. Anything that does not start with a <code>$</code> is interpret as a property for the generated object. For each such property, the key will be the name of the property in the object, and the value is a string containing the properties type. All default types and <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qstring.html">QString</a> are available by default, for other types, you will have to add includes.</p>
<p>Here is an example of a few properties: </p><div class="fragment"><div class="line">{</div><div class="line">    &quot;$includes&quot;: [&quot;QDateTime&quot;],</div><div class="line">    &quot;id&quot;: &quot;int&quot;,</div><div class="line">    &quot;name&quot;: &quot;QString&quot;,</div><div class="line">    &quot;date&quot;: &quot;QDateTime&quot;</div><div class="line">}</div></div><!-- fragment --><h3><a class="anchor" id="generator_doc_o_enum"></a>
Type: enum-object</h3>
<p>If you want to use custom enum types in you class, use this object. It allows you to add key-value pairs of enums. The key is the name of the enum in the generated c++ class. The value can either be an <a href="#generator_doc_o_enum_value">enum-value-list</a> or an <a href="#generator_doc_o_enum_obj">enum</a>.</p>
<h4><a class="anchor" id="generator_doc_o_enum_value"></a>
Type: enum-value-list</h4>
<p>For simple enums, simply use the enums name as the key, and a list of strings as value. By default, the actual value of the enum keys, is determined by the compiler, but you can optionally specify the value by using <code>:</code> as seperator:</p><ul>
<li>Normal Key: <code>"MyValue"</code></li>
<li>Value Key: <code>"MyValue:42"</code></li>
</ul>
<p>The following snippet shows how to use it: </p><div class="fragment"><div class="line">{</div><div class="line">    &quot;MyEnum&quot;: [&quot;Value1:1&quot;, &quot;Value2&quot;, ...],</div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --><h4><a class="anchor" id="generator_doc_o_enum_obj"></a>
Type: enum</h4>
<p>If your enum needs more than just the keys, i.e. custom value, or you need flags, you can also use an enum object as value for you enum. They are defined as follows:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Allowed values </th><th>Default/Required </th><th>Description  </th></tr>
<tr>
<td>isFlags </td><td>bool </td><td>false </td><td>If set to true, a <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qflags.html">QFlags</a> type will be generated </td></tr>
<tr>
<td>base </td><td>name of a valid enum parent class </td><td>none (compiler default) </td><td>If you need a custom base, use this property </td></tr>
<tr>
<td>values </td><td><a href="#generator_doc_o_enum_value">enum-value-list</a> </td><td><em>required</em> </td><td>The actual enum values. See <a href="#generator_doc_o_enum_value">Type: enum-value-list</a> </td></tr>
</table>
<h2><a class="anchor" id="generator_doc_class"></a>
Generate classes</h2>
<p>Classes are added to the pro file by using the REST_API_CLASSES variable. A class is a wrapper around <a class="el" href="class_qt_rest_client_1_1_rest_class.html" title="A class to perform requests to an API. ">QtRestClient::RestClass</a>, that encapsulates the rather generic methods into custom methods with adjusted parameters etc. This creates a c++ class, with simple methods to do HTTP-Request. In addition to that, you can build hieracical trees with classes, and those are represented by methods in the classes, allowing you to follow that tree in c++ as well. For the "root-class", you can use the api version, which allows you to specify the basic properties of a <a class="el" href="class_qt_rest_client_1_1_rest_client.html" title="A class to define access to an API, with general settings. ">QtRestClient::RestClient</a>.</p>
<p>Your JSON files will need to have the following structure:</p>
<h3><a class="anchor" id="generator_doc_c_class"></a>
Type: class</h3>
<p>The root element of any object to be generated. depending on the <code>type</code> you choose, it will be extended by some additional properties.</p>
<p>All types allow the following elements:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Allowed values </th><th>Default/Required </th><th>Description  </th></tr>
<tr>
<td>type </td><td>"api" or "class" </td><td>"class" </td><td>Define the type to generate - a class or an api </td></tr>
<tr>
<td>name </td><td>any valid c++ class name </td><td>file name </td><td>The class name of the generated class </td></tr>
<tr>
<td>includes </td><td>list of strings </td><td>[] </td><td>specify a list of includes for the header file </td></tr>
<tr>
<td>parent </td><td>name of a valid parent class </td><td>"QObject" </td><td>If you need a custom parent, use this property </td></tr>
<tr>
<td>except </td><td>The default execpt value </td><td>"QObject*" </td><td>The default value for "except" of all <a href="#generator_doc_c_method">method</a> elements </td></tr>
<tr>
<td>classes </td><td><a href="#generator_doc_c_cobj">classes-object</a> </td><td>{} </td><td>The child-classes. See <a href="#generator_doc_c_cobj">Type: classes-object</a> </td></tr>
<tr>
<td>methods </td><td><a href="#generator_doc_c_mobj">methods-object</a> </td><td>{} </td><td>The child-methods. See <a href="#generator_doc_c_mobj">Type: methods-object</a> </td></tr>
</table>
<p>If the type is <code>class</code> the following properties are available as well:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Allowed values </th><th>Default/Required </th><th>Description  </th></tr>
<tr>
<td>path </td><td>string </td><td>"" </td><td>Set the path of this class, relative to <b>it's parent</b>. Empty means same as parent </td></tr>
</table>
<p>If the type is <code>api</code> the following properties are available as well:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Allowed values </th><th>Default/Required </th><th>Description  </th></tr>
<tr>
<td>baseUrl </td><td>URL (string) </td><td><em>required</em> </td><td>The base URL of the API. Will be set as <a class="el" href="class_qt_rest_client_1_1_rest_client.html#abd3781d4411a6fabbecdda39f6de5fe3" title="The base URL to be used for every request to that api. ">QtRestClient::RestClient::baseUrl</a> </td></tr>
<tr>
<td>apiVersion </td><td>a version string </td><td>no version </td><td>The version of the API. Will be set as <a class="el" href="class_qt_rest_client_1_1_rest_client.html#a781f05c050afdf70ffaffb02e74744a6" title="The version number to be appended to the path. ">QtRestClient::RestClient::apiVersion</a> </td></tr>
<tr>
<td>parameters </td><td>object </td><td>{} </td><td>Parameters in key-value format. Will be set as <a class="el" href="class_qt_rest_client_1_1_rest_client.html#a7a168edc300d0f9b2e0e1a934d01ed13" title="A URL Query with parameters to be added to every request. ">QtRestClient::RestClient::globalParameters</a> </td></tr>
<tr>
<td>headers </td><td>object </td><td>{} </td><td>Headers in key-value format. Will be set as <a class="el" href="class_qt_rest_client_1_1_rest_client.html#a318cf677192305b97721d1f28a05a91e" title="A collection of headers to be added to every request. ">QtRestClient::RestClient::globalHeaders</a>, UTF-8 encoded </td></tr>
<tr>
<td>globalName </td><td>string </td><td>none </td><td>If specified, the API will be registered by that name using <a class="el" href="namespace_qt_rest_client.html#a78075e9bed69e0224778b083e74dd902" title="Makes the given API available under the given name. ">QtRestClient::addGlobalApi</a> </td></tr>
<tr>
<td>autoCreate </td><td>bool </td><td>true </td><td><em>Requires <code>globalName</code> to be set.</em> If set to true, the API will be automatically registered on application start. If not, it happens on first use </td></tr>
</table>
<h3><a class="anchor" id="generator_doc_c_cobj"></a>
Type: classes-object</h3>
<p>This type allows you to add "child-classes" to your class/api in form of key-value pairs. The key is the name of the method in your class that should return the class. The Value is the class type. You will have to add it as include. The type must be class generated by the tool as well. It is possible to use an api as child class as well, but it will ignore the API-aspect, and simply interpret it as class. However, it is not recommended to do so.</p>
<p>The following snippet shows an example. It assumes an <code>myclass.json</code>, holding a class definition with name <code>MyClass</code>: </p><div class="fragment"><div class="line">{</div><div class="line">    &quot;include&quot;: [&quot;myclass.h&quot;, ...]</div><div class="line">    &quot;classes&quot;: {</div><div class="line">        &quot;myClass&quot;: &quot;MyClass&quot;,</div><div class="line">        ...</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><h3><a class="anchor" id="generator_doc_c_mobj"></a>
Type: methods-object</h3>
<p>The main aspect of your class are the methods. They define what can be done by your class. The define a HTTP-request, that will be wrapped into a c++ method by the builder. Like most other elements, the methods are key-value pairs as well, with the key beeing the methods name, and the value a <code>method-object</code>, that can contain the following elements:</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Allowed values </th><th>Default/Required </th><th>Description  </th></tr>
<tr>
<td>path </td><td>string </td><td>none </td><td>A subpath, append to the classes path. <b>must not be combined with <code>url</code></b> </td></tr>
<tr>
<td>url </td><td>URL (string) </td><td>none </td><td>A (relative) url, resolved to the classes path. <b>must not be combined with <code>path</code></b> </td></tr>
<tr>
<td>verb </td><td>HTTP-Verb (string) </td><td>"GET" </td><td>The HTTP-Verb to be used for the request </td></tr>
<tr>
<td>body </td><td>name of a c++ object </td><td>none </td><td>An optional body, to be sent with the request. Must be serializable and included </td></tr>
<tr>
<td>pathParams </td><td><a href="#generator_doc_param">param-list</a> </td><td>[] </td><td>A list of parameters, where each parameter becomes a segment, appended to the requests path. See <a href="#generator_doc_param">Type: param-list</a> </td></tr>
<tr>
<td>parameters </td><td><a href="#generator_doc_param">param-list</a> </td><td>[] </td><td>A list of parameters, added as <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qurlquery.html">QUrlQuery</a> parameters. See <a href="#generator_doc_param">Type: param-list</a> </td></tr>
<tr>
<td>headers </td><td>object </td><td>{} </td><td>Headers in key-value format. Will be added as additional HTTP-Headers, UTF-8 encoded </td></tr>
<tr>
<td>returns </td><td>name of a c++ object </td><td>"QObject*" </td><td>The type of the reply entity. Must be serializable and included, or void </td></tr>
<tr>
<td>except </td><td>name of a c++ object </td><td><a href="#generator_doc_c_class">class</a>.except </td><td>The type of a reply with an error. Must be serializable and included. Defaults to the classes except property </td></tr>
</table>
<p>If neither <code>path</code> nor <code>url</code> are specified, the request will use the classes path without modifications</p>
<h3><a class="anchor" id="generator_doc_param"></a>
Type: param-list</h3>
<p>In order to specify parameters, that are added to the method in the same order they have been specified, a param-list is used. It's a list of strings, were each string has the format <code>&lt;name&gt;;&lt;type&gt;</code>. The name will be the name of the parameter, and type it's type. Please note that the type must be convertible to string via <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qvariant.html">QVariant</a>.</p>
<p>The following snippet shows an example of such parameters: </p><div class="fragment"><div class="line">{</div><div class="line">    &quot;include&quot;: [&quot;QDateTime&quot;, ...]</div><div class="line">    &quot;parameters&quot;: [</div><div class="line">        &quot;id;int&quot;,</div><div class="line">        &quot;name;QString&quot;,</div><div class="line">        &quot;date;QDateTime&quot;</div><div class="line">    ]</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 10 2017 14:40:29 for QtRestClient by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
